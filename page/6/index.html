<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://phpkoo.com').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="关注小众语言，记录、分享技术点滴！">
<meta property="og:type" content="website">
<meta property="og:title" content="阿德的博客">
<meta property="og:url" content="https://phpkoo.com/page/6/">
<meta property="og:site_name" content="阿德的博客">
<meta property="og:description" content="关注小众语言，记录、分享技术点滴！">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="阿德">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://phpkoo.com/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>阿德的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="阿德的博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">阿德的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">关注小众语言，记录、分享技术点滴！</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-fw fa-sitemap"></i>站点地图</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/168.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/168.html" class="post-title-link" itemprop="url">nvm 快速切换 Node 版本</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-08-24 16:24:50" itemprop="dateCreated datePublished" datetime="2015-08-24T16:24:50+08:00">2015-08-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Nodejs/" itemprop="url" rel="index">
                    <span itemprop="name">Nodejs</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>nvm 默认是从 <a href="http://nodejs.org/dist/" target="_blank" rel="noopener">http://nodejs.org/dist/</a> 下载的, 国外服务器, 必然很慢, 好在 nvm 以及支持从镜像服务器下载包, 于是我们可以方便地从七牛的 node dist 镜像下载 [shell] NVM_NODEJS_ORG_MIRROR=<a href="https://npm.taobao.org/dist" target="_blank" rel="noopener">https://npm.taobao.org/dist</a> nvm install 0.11.11 [/shell] 于是你就会看到一段非常快速进度条: [shell] ######################################################################## 100.0% Now using node v0.11.11 [/shell] 如果你不想每次都输入环境变量 NVM_NODEJS_ORG_MIRROR, 那么我建议你加入到 .bashrc 文件中: source [shell] export NVM_NODEJS_ORG_MIRROR=<a href="https://npm.taobao.org/dist" target="_blank" rel="noopener">https://npm.taobao.org/dist</a> source path/to/nvm/nvm.sh [/shell] 然后你可以继续非常方便地安装各个版本的 node 了, 你可以查看一下你当前已经安装的版本: [shell] nvm ls nvm v0.8.26 v0.10.26 v0.11.11 -&gt; v0.11.12 [/shell] <strong>nrm 快速切换 NPM 源</strong> <strong>安装</strong> [shell] npm install -g nrm [/shell] <strong>使用</strong> 列出可选的源 [shell] nrm ls * npm —- <a href="https://registry.npmjs.org/" target="_blank" rel="noopener">https://registry.npmjs.org/</a> cnpm — <a href="http://r.cnpmjs.org/" target="_blank" rel="noopener">http://r.cnpmjs.org/</a> taobao - <a href="http://registry.npm.taobao.org/" target="_blank" rel="noopener">http://registry.npm.taobao.org/</a> eu —– <a href="http://registry.npmjs.eu/" target="_blank" rel="noopener">http://registry.npmjs.eu/</a> au —– <a href="http://registry.npmjs.org.au/" target="_blank" rel="noopener">http://registry.npmjs.org.au/</a> sl —– <a href="http://npm.strongloop.com/" target="_blank" rel="noopener">http://npm.strongloop.com/</a> nj —– <a href="https://registry.nodejitsu.com/" target="_blank" rel="noopener">https://registry.nodejitsu.com/</a> [/shell] 带<em>的是当前使用的源，上面的输出表明当前源是官方源。 *</em>切换** 切换到taobao [shell] nrm use taobao [/shell] 增加源 你可以增加定制的源，特别适用于添加企业内部的私有源。 私有源可以使用cnpmjs架设 。 [shell] nrm add <registry> <url> [home] [/shell] 删除源 [shell] nrm del <registry> [/shell] 测试速度 你还可以通过 nrm test 测试相应源的响应时间。 例如，测试官方源的响应时间： [shell] nrm test npm npm —- 1328ms [/shell] 测试所有源的响应时间： [shell] nrm test npm —- 891ms cnpm — 1213ms * taobao - 460ms eu —– 3859ms au —– 1073ms sl —– 4150ms nj —– 8008ms [/shell] 注意，为了取得较准确的结果，可以考虑多次测试取平均值。 许可 nrm 为开源软件，使用 MIT 许可。 项目主页 <a href="http://github.com/Pana/nrm" target="_blank" rel="noopener">github.com/Pana/nrm</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/157.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/157.html" class="post-title-link" itemprop="url">centos下安装nginx_lua_module模块</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-08-17 23:54:53" itemprop="dateCreated datePublished" datetime="2015-08-17T23:54:53+08:00">2015-08-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="http://wiki.nginx.org/HttpLuaModule" target="_blank" rel="noopener">ngx_lua_module</a> 是一个nginx http模块，它把 lua 解析器内嵌到 nginx，用来解析并执行lua 语言编写的网页后台脚本。</p>
<p>特性：<br>支持Windows和Linux平台。<br>支持高并发高性能。<br>HTML网页中内嵌LUA脚本代码，类似于PHP。<br>支持非阻塞的数据库操作，目前只支持MYSQL。<br>支持异步的文件IO操作。<br>支持非阻塞的SOCKET IO操作。</p>
<p><strong>方式一：使用集成包安装</strong></p>
<p>下载 <a href="https://github.com/openresty/ngx_openresty" target="_blank" rel="noopener">ngx_openresty</a>，该集成包中有：Nginx，Lua或Luajit，ngx_lua，以及一些有用的Nginx第三方模块。</p>
<p>[shell] wget <a href="https://github.com/openresty/ngx_openresty" target="_blank" rel="noopener">https://github.com/openresty/ngx_openresty</a> ./configure –with-luajit make make install [/shell]</p>
<p><strong>方式二：Ngx_lua可以手动编译进Nginx(或Tengine)</strong></p>
<p>假定nginx的安装路径为：/usr/local/nginx</p>
<p>所需要的模块如下：<br><a href="https://github.com/openresty/luajit2" target="_blank" rel="noopener">luajit2</a> <a href="https://github.com/openresty/luajit2" target="_blank" rel="noopener">https://github.com/openresty/luajit2</a><br><a href="https://github.com/simpl/ngx_devel_kit" target="_blank" rel="noopener">ngx_devel_kit</a> <a href="https://github.com/simpl/ngx\_devel\_kit" target="_blank" rel="noopener">https://github.com/simpl/ngx\_devel\_kit</a><br><a href="https://github.com/agentzh/echo-nginx-module" target="_blank" rel="noopener">echo-nginx-module</a> <a href="https://github.com/agentzh/echo-nginx-module" target="_blank" rel="noopener">https://github.com/agentzh/echo-nginx-module</a><br><a href="https://github.com/chaoslawful/lua-nginx-module" target="_blank" rel="noopener">lua-nginx-module</a> <a href="https://github.com/chaoslawful/lua-nginx-module" target="_blank" rel="noopener">https://github.com/chaoslawful/lua-nginx-module</a></p>
<p>安装步骤：</p>
<p>1、安装openresty提供的luajit2</p>
<p>[shell] wget -O luajit2.zip <a href="https://codeload.github.com/openresty/luajit2/zip/v2.1-agentzh" target="_blank" rel="noopener">https://codeload.github.com/openresty/luajit2/zip/v2.1-agentzh</a> unzip luajit2.zip cd luajit2 make make install [/shell]</p>
<p>下面配置 luajit的环境变量(Nginx编译时需要)</p>
<p>[shell] export LUAJIT_LIB=/usr/local/lib export LUAJIT_INC=/usr/local/include/luajit-2.1 [/shell]</p>
<p>2、安装 ngx_devel_kit (NDK) 模块</p>
<p>[shell] wget -O ngx_devel_kit.zip <a href="https://codeload.github.com/simplresty/ngx\_devel\_kit/zip/master" target="_blank" rel="noopener">https://codeload.github.com/simplresty/ngx\_devel\_kit/zip/master</a> unzip ngx_devel_kit.zip -d /usr/local [/shell]</p>
<p>3、安装 lua-nginx-module 模块</p>
<p>[shell] wget -O lua-nginx-module.zip <a href="https://codeload.github.com/openresty/lua-nginx-module/zip/master" target="_blank" rel="noopener">https://codeload.github.com/openresty/lua-nginx-module/zip/master</a> unzip lua-nginx-module.zip -d /usr/local [/shell]</p>
<p>4、重新编译Nginx，需要注意编译顺序</p>
<p>[shell] ./configure –prefix=/usr/local/nginx \ –with-ld-opt=-Wl,-rpath,$LUAJIT_LIB \ –add-module=/usr/local/ngx_devel_kit \ –add-module=/usr/local/echo-nginx-module \ –add-module=/usr/local/lua-nginx-module make -j2 make install [/shell]</p>
<p><strong>注意：</strong>重新编译 Nginx 二进制，Nginx 需要 quit 再启动。而普通配置更新则 reload 即可。</p>
<p>[shell] #quit kill -HUP `cat /usr/local/nginx/logs/nginx.pid` #reload /usr/local/nginx/sbin/nginx -s reload [/shell]</p>
<p>模块编译完成！</p>
<p>在编译安装 Nginx 的第三方模块时，碰到一个错误：</p>
<p>[shell] /usr/local/nginx/sbin/ngxin -s reload /usr/local/nginx/sbin/nginx: error while loading shared libraries: libluajit-5.1.so.2: cannot open shared object file: No such file or directory [/shell]</p>
<p>解决办法。<br>在 Nginx 编译时，需要指定 RPATH，加入下面选项即可</p>
<p>[shell] ./configure –with-ld-opt=”-Wl,-rpath,$LUAJIT_LIB” 或者 export LD_LIBRARY_PATH=/usr/local/lib/:$LD_LIBRARY_PATH [/shell]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/154.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/154.html" class="post-title-link" itemprop="url">Centos安装golang环境</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-08-11 22:40:11" itemprop="dateCreated datePublished" datetime="2015-08-11T22:40:11+08:00">2015-08-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GoLang/" itemprop="url" rel="index">
                    <span itemprop="name">GoLang</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[shell] #在国内镜像下载二进制包 wget <a href="http://www.golangtc.com/static/go/go1.4.2.linux-amd64.tar.gz" target="_blank" rel="noopener">http://www.golangtc.com/static/go/go1.4.2.linux-amd64.tar.gz</a> #直接解压到目标目录即可 tar -C /usr/local -zxvf go1.4.2.linux-amd64.tar.gz #把golang的bin目录加入全局环境变量 cat &gt;&gt;/etc/profile&lt;&lt;EOF export PATH=$PATH:/usr/local/go/bin EOF #让配置生效 source /etc/profile #检查下是否成功 go version #在当前用户目录下新建go目录作为项目目录 mkdir -p $HOME/go #用cat的方法在尾部增加配置配置golang的 GOROOT GOPATH cat &gt;&gt;$HOME/.bash_profile&lt;&lt;EOF export GOROOT=/usr/local/go export GOPATH=\$HOME/go export GOBIN=\$HOME/go/bin export PATH=\$PATH:\$GOROOT/bin EOF #让配置生效 source $HOME/.bash_profile #检查下go的env环境变量 go env [/shell]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/145.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/145.html" class="post-title-link" itemprop="url">python Image Library安装体验</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-08-01 22:55:06" itemprop="dateCreated datePublished" datetime="2015-08-01T22:55:06+08:00">2015-08-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>PIL是python理想的图片处理module，没安装该模块时会提示：ImportError: No module named Image，以下是PIL安装的依赖和步骤 我的环境：CentOS 6.5 / Python2.7 <strong>第一步：安装zlib png</strong> <strong>freetype</strong> **  jpeg** 安装zlib：<a href="http://zlib.net/zlib-1.2.8.tar.gz" target="_blank" rel="noopener">http://zlib.net/zlib-1.2.8.tar.gz</a> [shell] $ tar -xvzf zlib-1.2.8.tar.gz $ cd zlib-1.2.8 $ ./configure –prefix=/usr/local $ make $ make install [/shell] 安装png：<a href="ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng15/libpng-1.5.23.tar.gz" target="_blank" rel="noopener">ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng15/libpng-1.5.23.tar.gz</a> (如果文件不存在就浏览 /src/目录查找一下最新版) [shell] $ tar -xvzf libpng-1.5.23.tar.gz $ cd libpng-1.5.23 $ ./configure –prefix=/usr/local $ make $ make install [/shell] 安装freetype：<a href="http://nchc.dl.sourceforge.net/project/freetype/freetype2/2.4.7/freetype-2.4.7.tar.gz" target="_blank" rel="noopener">http://nchc.dl.sourceforge.net/project/freetype/freetype2/2.4.7/freetype-2.4.7.tar.gz</a> [shell] $ tar -xvzf freetype-2.4.7.tar.gz $ cd freetype-2.4.7/ $ ./configure –prefix=/usr/local $ make $ make install [/shell] 安装jpeg：<a href="http://www.ijg.org/files/jpegsrc.v8c.tar.gz" target="_blank" rel="noopener">http://www.ijg.org/files/jpegsrc.v8c.tar.gz</a> [shell] $ tar -xvzf jpegsrc.v8c.tar.gz $ cd jpeg-8c/ $ ./configure –prefix=/usr/local $ make $ make install [/shell] <strong>第二步：安装需要的 devel库（该步视情况可忽略）</strong> [shell] $ yum install libjpeg8-dev $ yum install libpng12-dev $ yum install libfreetype6-dev $ yum install zlib1g-dev [/shell] <strong>第三步：安装 PIL（ Python Imaging Library</strong> <strong>）</strong> 安装Image Library：<a href="http://effbot.org/downloads/Imaging-1.1.7.tar.gz" target="_blank" rel="noopener">http://effbot.org/downloads/Imaging-1.1.7.tar.gz</a> [shell] $ tar -xvzf Imaging-1.1.7.tar.gz $ cd Imaging-1.1.7/ #修改setup.py文件 vi setup.py #修改如下： JPEG_ROOT = “/usr/local/lib” ZLIB_ROOT = “/usr/local/lib” FREETYPE_ROOT = “/usr/local/lib” [/shell] 检查是否支持 [shell] $ python setup.py build_ext -i running build_ext ——————————————————————– PIL 1.1.7 SETUP SUMMARY ——————————————————————– version 1.1.7 platform linux2 2.7.8 (default, Sep 5 2014, 10:24:17) [GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] ——————————————————————– <strong>* TKINTER support not available — JPEG support available — ZLIB (PNG/ZIP) support available — FREETYPE2 support available *</strong> LITTLECMS support not available ——————————————————————– To add a missing option, make sure you have the required library, and set the corresponding ROOT variable in the setup.py script. To check the build, run the selftest.py script. [/shell] 开始安装Image Library [shell] $ python setup.py build $ python setup.py install [/shell] Python代码验证 [shell] $ python selftest.py *** The _imaging C module is not installed [/shell] ps: 运行python selftest.py提示The _imaging C module is not installed 解决方法，实际根据自己的python PIL路径设置 [shell] $ echo ‘/usr/local/lib/python2.7/site-packages/PIL’ &gt;&gt; /etc/ld.so.conf $ ldconfig [/shell] 重新python selftest.py，一路安装完成。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/142.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/142.html" class="post-title-link" itemprop="url">node多版本管理</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-07-23 10:40:55" itemprop="dateCreated datePublished" datetime="2015-07-23T10:40:55+08:00">2015-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Nodejs/" itemprop="url" rel="index">
                    <span itemprop="name">Nodejs</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>nvm与Python的virtualenv和Ruby的rvm类似。 NVM (Node Version Manager，Node多版本管理器)是一个通用的叫法,它目前有许多不同的实现。通常我们说的 nvm 是指 <a href="https://github.com/creationix/nvm" target="_blank" rel="noopener">https://github.com/creationix/nvm</a> 或者 <a href="https://github.com/visionmedia/n" target="_blank" rel="noopener">https://github.com/visionmedia/n</a> 。这两个工具都是使用shell编写的。 <strong>n</strong> <strong>安装</strong> 如果已经安装了npm的话，可以直接执行命令进行安装n : [shell] $ npm install -g n [/shell] 或者是直接获取源代码安装： [shell] $ git clone <a href="https://github.com/visionmedia/n.git" target="_blank" rel="noopener">https://github.com/visionmedia/n.git</a> $ cd n $ make install [/shell]</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>直接运行 n 命令查看所有已安装的版本。 [shell] $ n [/shell] 运行命令 n 进行安装指定版本的node。 version 可以是 stable(最新稳定版)、latest(最新版)或者具体的版本数字。 [shell] $ n stable install : v0.10.24 mkdir : /usr/local/n/versions/0.10.24 fetch : <a href="http://nodejs.org/dist/v0.10.24/node-v0.10.24-linux-x64.tar.gz" target="_blank" rel="noopener">http://nodejs.org/dist/v0.10.24/node-v0.10.24-linux-x64.tar.gz</a> [/shell] 指定的版本将会安装在 /usr/local/n/versions 目录下。 运行命令 n rm 删除已安装指定版本的node。 运行命令 n use 选择使用指定版本的node。 <strong>nvm(推荐使用)</strong> <a href="https://github.com/creationix/nvm" target="_blank" rel="noopener">nvm</a>全称Node Version Manager，它与<code>n</code>的实现方式不同，其是通过shell脚本实现的。 <strong>安装</strong> 安装方式有两种： [shell] $ git clone <a href="https://github.com/creationix/nvm.git" target="_blank" rel="noopener">https://github.com/creationix/nvm.git</a> <del>/.nvm $ source ~/.nvm/nvm.sh [/shell] 或者 [shell] $ wget -qO- <a href="https://raw.githubusercontent.com/creationix/nvm/master/install.sh" target="_blank" rel="noopener">https://raw.githubusercontent.com/creationix/nvm/master/install.sh</a> | sh $ source ~/.bash_profile [/shell] 以上脚本会把<code>nvm</code>库clone到`</del>/.nvm<code>，然后会在</code><del>/.bash_profile<code>,</code></del>/.zshrc<code>或``</code>~/.profile``末尾添加source，安装完成之后，你可以用以下命令来安装node <strong>使用</strong> 查看已安装的版本： [shell] $ nvm ls [/shell] 查看可以安装的版本： [shell] $ nvm ls-remote [/shell] 安装指定的版本： [shell] $ nvm install <version> [/shell]   指定的版本将会直接安装在 nvm 程序所在的目录下。 删除指定的版本： [shell] $ nvm uninstall <version> [/shell] 使用选定的版本： [shell] $ nvm use <version> [/shell]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/120.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/120.html" class="post-title-link" itemprop="url">Zero downtime Node.js reloads with clusters</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-05-13 15:39:14" itemprop="dateCreated datePublished" datetime="2015-05-13T15:39:14+08:00">2015-05-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Nodejs/" itemprop="url" rel="index">
                    <span itemprop="name">Nodejs</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Unlike PHP and other more traditional web applications, a Node.js server is just that–the server itself. Which means when we write a web application in Node.js, we’re creating a server application that is loaded into memory, and handles requests from there. If the source files change, the application does not, because it’s already been loaded into memory. In order to update the application with new code, the server has to be restarted. This becomes a little challenging when the goal is to run a server cleanly with no downtime. If we reboot the Node server, we kill all existing connections, have a period of downtime, and then a fresh instance starts, ready to handle connections. That’s not going to fly in production. There are ways to prevent this, though. <a href="https://github.com/LearnBoost/up" target="_blank" rel="noopener">Up</a>, for example, acts as a intermediate between your application and the request, which allows changes to be gracefully reloaded. It’s nice, but a little heavier than I’d like, and doesn’t play nicely with <a href="http://nodejs.org/api/cluster.html" target="_blank" rel="noopener">Node clusters</a>. Besides, I thought figuring out how to handle this myself would make a good learning experience. Fortunately, the cluster module has a <em>disconnect</em> event, which allows us to gracefully end the worker process. It will stop handling new requests, and the process will exit once the current requests are finished. That’s perfect. Here’s an example of what I cooked up. We’ll start with a separate app.js file; it’s important that the application code and clustering code be separate. app.js [js] var http = require(“http”);</code> http.createServer(function(req,rep) { rep.writeHead(200); rep.write(“Hello, world!”); rep.end(); }).listen(8080); [/js] This is our application. It can do whatever we want, but I’m keeping it simple for my testing purposes. Next, we need a master process to handle the clustering and worker respawns. runner.js [js] var cluster = require(“cluster”);</code> if (cluster.isMaster) { // this is the master control process console.log(“Control process running: PID=” + process.pid); // fork as many times as we have CPUs var numCPUs = require(“os”).cpus().length; for (var i = 0; i &lt; numCPUs; i++) { cluster.fork(); } // handle unwanted worker exits cluster.on(“exit”, function(worker, code) { if (code != 0) { console.log(“Worker crashed! Spawning a replacement.”); cluster.fork(); } }); // I’m using the SIGUSR2 signal to listen for reload requests // you could, instead, use file watcher logic, or anything else process.on(“SIGUSR2”, function() { console.log(“SIGUSR2 received, reloading workers”); // delete the cached module, so we can reload the app delete require.cache[require.resolve(“./app”)]; // only reload one worker at a time // otherwise, we’ll have a time when no request handlers are running var i = 0; var workers = Object.keys(cluster.workers); var f = function() { if (i == workers.length) return; console.log(“Killing “ + workers[i]); cluster.workers[workers[i]].disconnect(); cluster.workers[workers[i]].on(“disconnect”, function() { console.log(“Shutdown complete”); }); var newWorker = cluster.fork(); newWorker.on(“listening”, function() { console.log(“Replacement worker online.”); i++; f(); }); } f(); }); } else { var app = require(“./app”); } [/js] Make sense? I’ll break it down a little bit. We fork, per the <a href="http://nodejs.org/api/cluster.html" target="_blank" rel="noopener">cluster example</a>. In all the non-master threads (the forked children), we load our separate application. Then, if the master process receives a SIGUSR2 signal, we delete the cache of our application module, retrieve a list of active worker ids, and disconnect them one by one. We do this to ensure that there is never a situation where we go below the threshold of optimal worker threads, or worse, reach a point where no workers are running. We then load a replacement worker, and repeat the process until all of the old workers have been told to disconnect. It’s a little rough, but it works. To test it, I run the application server, and hit it with an apachebench with 100,000 requests at 1000 concurrency to check for failed requests. Beautiful. I can now integrate this into my post-update git hook for use in deployment.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/119.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/119.html" class="post-title-link" itemprop="url">利用Ffmpeg获得flv视频缩略图和视频长度时间</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2014-11-06 13:48:07" itemprop="dateCreated datePublished" datetime="2014-11-06T13:48:07+08:00">2014-11-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>获得flv视频的缩略图和视频时间长度，php代码如下： [php] function BigEndian2Int($byte_word, $signed = false) { $int_value = 0; $byte_wordlen = strlen($byte_word); for ($i = 0; $i &lt; $byte_wordlen; $i++) { $int_value += ord($byte_word{$i}) * pow(256, ($byte_wordlen - 1 - $i)); } if ($signed) { $sign_mask_bit = 0x80 &lt;&lt; (8 * ($byte_wordlen - 1)); if ($int_value &amp; $sign_mask_bit) { $int_value = 0 - ($int_value &amp; ($sign_mask_bit - 1)); } } return $int_value; } //获得视频的数字时间 function getTime($name){ if(!file_exists($name)){ return; } $flv_data_length=filesize($name); $fp = @fopen($name, ‘rb’); $flv_header = fread($fp, 5); fseek($fp, 5, SEEK_SET); $frame_size_data_length =BigEndian2Int(fread($fp, 4)); $flv_header_frame_length = 9; if ($frame_size_data_length &gt; $flv_header_frame_length) { fseek($fp, $frame_size_data_length - $flv_header_frame_length, SEEK_CUR); } $duration = 0; while ((ftell($fp) + 1) &lt; $flv_data_length) { $this_tag_header = fread($fp, 16); $data_length = BigEndian2Int(substr($this_tag_header, 5, 3)); $timestamp = BigEndian2Int(substr($this_tag_header, 8, 3)); $next_offset = ftell($fp) - 1 + $data_length; if ($timestamp &gt; $duration) { $duration = $timestamp; } fseek($fp, $next_offset, SEEK_SET); } fclose($fp); return $duration; } //转化为0：03：56的时间格式 function fn($time){ $num = $time; $sec = intval($num/1000); $h = intval($sec/3600); $m = intval(($sec%3600)/60); $s = intval(($sec%60)); $tm = $h.’:’.$m.’:’.$s; return $tm; } $t = getTime(“22.flv”);//显示数字时间如236722 echo fn($t);//显示时间格式0:03:56 ?&gt; [/php]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/117.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/117.html" class="post-title-link" itemprop="url">go语言的协程和通道通信</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2014-09-30 16:03:25" itemprop="dateCreated datePublished" datetime="2014-09-30T16:03:25+08:00">2014-09-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GoLang/" itemprop="url" rel="index">
                    <span itemprop="name">GoLang</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>许式伟的《go语言编程》，有一个简单的例子，描述go协程和通信通道chan。挺优美的。如下： [shell] [root@localhost test]$ cat sum.go package main import “fmt” func sum(values []int, myChan chan int) { sum := 0 for _, value := range values { sum += value } myChan &lt;- sum } func main() { myChan := make(chan int, 2) values := []int{1, 2, 3, 5, 5, 4} go sum(values, myChan) //协程1 go sum(values[:3], myChan) //协程2 sum1, sum2 := &lt;-myChan, &lt;-myChan fmt.Println(“Result:”, sum1, sum2, sum1+sum2) } 结果： [root@localhost test]$ go run sum.go Result: 6 20 26 [/shell]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/116.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/116.html" class="post-title-link" itemprop="url">SVN 无法通过windows installer服务安装此安装程序包</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2014-08-27 13:45:43" itemprop="dateCreated datePublished" datetime="2014-08-27T13:45:43+08:00">2014-08-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index">
                    <span itemprop="name">开发工具</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>xp sp3系统，当安装SVN客户端时出现问题 当安装 TortoiseSVN 1.8** 版本的时候 出现“无法通过 windows installer 服务安装此安装程序包。您必须安装带有更新版本 Windows Installer 服务的 Windows Service Pack ”提示如何解决？ 在网上搜集了好久，有好多人出现了同样的问题，所以记录下来 点击下载： <a href="http://www.microsoft.com/zh-cn/download/confirmation.aspx?id=8483" target="_blank" rel="noopener">http://www.microsoft.com/zh-cn/download/confirmation.aspx?id=8483</a> 下载补丁 WindowsXP-KB942288-v3-x86.exe ， 重启电脑就可以安装了</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://phpkoo.com/posts/115.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="阿德">
      <meta itemprop="description" content="关注小众语言，记录、分享技术点滴！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/posts/115.html" class="post-title-link" itemprop="url">对zeroMQ的认识</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2014-08-14 14:30:30" itemprop="dateCreated datePublished" datetime="2014-08-14T14:30:30+08:00">2014-08-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-15 15:07:22" itemprop="dateModified" datetime="2020-01-15T15:07:22+08:00">2020-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Nodejs/" itemprop="url" rel="index">
                    <span itemprop="name">Nodejs</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>今天正式的去了理了下zmq这个传说是史上最快的消息队列，之前一直认为是个“服务”程序，是个类似于Socket的一系列接口，他跟Socket的区别是：普通的socket是端到端的（1:1的关系），而ZMQ却是可以N：M 的关系可以任意组合。上一段nodejs中使用zmq的官方例子 1、producer.js <code>[js] var zmq = require(&#39;zmq&#39;) , sock = zmq.socket(&#39;push&#39;);&lt;/code&gt; sock.bindSync(&#39;tcp://127.0.0.1:3000&#39;); console.log(&#39;Producer bound to port 3000&#39;); setInterval(function(){ console.log(&#39;sending work&#39;); sock.send(&#39;some work&#39;); }, 500); [/js] 2、worker.js `[js] var zmq = require(&#39;zmq&#39;) , sock = zmq.socket(&#39;pull&#39;);&lt;/code&gt; sock.connect(&#39;tcp://127.0.0.1:3000&#39;); console.log(&#39;Worker connected to port 3000&#39;); sock.on(&#39;message&#39;, function(msg){ console.log(&#39;work: %s&#39;, msg.toString()); }); [/js] 这样worker就开始工作了，接收到producer发送的数据`</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">阿德</p>
  <div class="site-description" itemprop="description">关注小众语言，记录、分享技术点滴！</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">119</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">184</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">阿德</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
