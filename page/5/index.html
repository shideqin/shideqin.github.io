<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />




  


  <link rel="alternate" href="/atom.xml" title="阿德的博客" type="application/atom+xml" />






<meta name="description" content="关注小众语言，记录、分享技术点滴！">
<meta property="og:type" content="website">
<meta property="og:title" content="阿德的博客">
<meta property="og:url" content="http://phpkoo.com/page/5/index.html">
<meta property="og:site_name" content="阿德的博客">
<meta property="og:description" content="关注小众语言，记录、分享技术点滴！">
<meta property="article:author" content="shideqin">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://phpkoo.com/page/5/"/>





  <title>阿德的博客</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">阿德的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">关注小众语言，记录、分享技术点滴！</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2016/12/30/centos-e4-b8-8b-e5-ae-89-e8-a3-85mysql5-7-e7-a4-be-e5-8c-ba-e7-89-88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/30/centos-e4-b8-8b-e5-ae-89-e8-a3-85mysql5-7-e7-a4-be-e5-8c-ba-e7-89-88/" itemprop="url">centos下安装mysql5.7社区版</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-30T10:46:29+08:00">
                2016-12-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mysql/" itemprop="url" rel="index">
                    <span itemprop="name">Mysql</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>mysql分社区版和企业版，其中社区版为免费使用并且开源。 1、下载mysql5.7社区版（64位） [shell] wget <a href="http://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.17-linux-glibc2.5-x86\_64.tar" target="_blank" rel="noopener">http://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.17-linux-glibc2.5-x86\_64.tar</a> tar -xvf mysql-5.7.17-linux-glibc2.5-x86_64.tar tar -zxvf mysql-5.7.17-linux-glibc2.5-x86_64.tar.gz [/shell] 2、解压拷贝 [shell] mv mysql-5.7.17-linux-glibc2.5-x86_64 /usr/local/mysql [/shell] 3、创建mysql用户 [shell] groupadd mysql useradd -r -g mysql mysql [/shell] 4、创建mysql的数据目录，该目录在初始化数据库的时候会用到 [shell] mkdir /usr/local/mysql/data /usr/local/mysql/log chown -R mysql:mysql /usr/local/mysql [/shell] 5、创建my.cnf文件 [shell] cp /usr/local/mysql/support-files/my-default.cnf /etc/my.cnf vim /etc/my.cnf [client] port = 3306 socket = /tmp/mysql.sock [mysqld] server_id=1 port = 3306 user = mysql socket = /tmp/mysql.sock basedir = /usr/local/mysql datadir = /usr/local/mysql/data pid-file = /usr/local/mysql/data/mysql.pid max_connections = 1000 max_connect_errors = 1000 table_open_cache = 1024 max_allowed_packet = 128M open_files_limit = 65535 #####====================================[innodb]============================== innodb_buffer_pool_size = 1024M innodb_file_per_table = 1 innodb_write_io_threads = 4 innodb_read_io_threads = 4 innodb_purge_threads = 2 innodb_flush_log_at_trx_commit = 1 innodb_log_file_size = 512M innodb_log_files_in_group = 2 innodb_log_buffer_size = 16M innodb_max_dirty_pages_pct = 80 innodb_lock_wait_timeout = 30 innodb_data_file_path=ibdata1:1024M:autoextend #####====================================[log]============================== log_error = /usr/local/mysql/log/mysql-error.log slow_query_log = 1 long_query_time = 1 slow_query_log_file = /usr/local/mysql/log/mysql-slow.log sql_mode=ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION [/shell] 6、初始化数据库 [shell] /usr/local/mysql/bin/mysql_install_db –basedir=/usr/local/mysql –datadir=/usr/local/mysql/data –user=mysql [/shell] 7、修改目录权限 [shell] chown -R mysql:mysql /usr/local/mysql [/shell] 8、配置启动文件 [shell] cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld [/shell] 9、启动mysql [shell] /etc/init.d/mysqld start [/shell] 10、获取初始密码 [shell] cat ~/.mysql_secret rm -rf ~/.mysql_secret [/shell] 11、重设初始密码 [shell] /usr/local/mysql/bin/mysql -uroot -p mysql&gt; show databases; ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement. mysql&gt; ALTER USER ‘root’@’localhost’ IDENTIFIED BY ‘<strong>****</strong>‘; mysql&gt; grant all privileges on <em>.</em> to root@’%’ identified by ‘123456’; mysql&gt; flush privileges; [/shell] ps:远程连接mysql，报can’t connect to mysql server on ‘localhost’ (10060) 请检查一下iptables，默认可能禁用了3306端口 [shell] vim /etc/sysconfig/iptables -A INPUT -m state –state NEW -m tcp -p tcp –dport 3306 -j ACCEPT [/shell] 重启iptables [shell] service iptables restart [/shell] PS: 1、创建用户 [shell] CREATE USER ‘username’@’host’ IDENTIFIED BY ‘password’; [/shell] 说明： username：你将创建的用户名 host：指定该用户在哪个主机上可以登陆，如果是本地用户可用localhost，如果想让该用户可以从任意远程主机登陆，可以使用通配符% password：该用户的登陆密码，密码可以为空，如果为空则该用户可以不需要密码登陆服务器 2、授权 [shell] GRANT privileges ON databasename.tablename TO ‘username’@’host’ [/shell] 说明： privileges：用户的操作权限，如SELECT，INSERT，UPDATE等，如果要授予所的权限则使用ALL databasename：数据库名 tablename：表名，如果要授予该用户对所有数据库和表的相应操作权限则可用<em>表示，如</em>.* 注意： 用以上命令授权的用户不能给其它用户授权，如果想让该用户可以授权，用以下命令: [shell] GRANT privileges ON databasename.tablename TO ‘username’@’host’ WITH GRANT OPTION; [/shell] 3、设置与更改用户密码 [shell] SET PASSWORD FOR ‘username’@’host’ = PASSWORD(‘newpassword’); [/shell] 如果是当前登陆用户用 [shell] SET PASSWORD = PASSWORD(“newpassword”); [/shell] 4、撤销用户权限 [shell] REVOKE privilege ON databasename.tablename FROM ‘username’@’host’; [/shell] 说明： privilege, databasename, tablename：同授权部分 注意： 假如你在给用户‘pig’@’%’授权的时候是这样的（或类似的）：GRANT SELECT ON test.user TO ‘pig’@’%’，则在使用REVOKE SELECT ON <em>.</em> FROM ‘pig’@’%’;命令并不能撤销该用户对test数据库中user表的SELECT 操作。相反，如果授权使用的是GRANT SELECT ON <em>.</em> TO ‘pig’@’%’;则REVOKE SELECT ON test.user FROM ‘pig’@’%’;命令也不能撤销该用户对test数据库中user表的Select权限。 具体信息可以用命令SHOW GRANTS FOR ‘pig’@’%’; 查看。 5、删除用户 [shell] DROP USER ‘username’@’host’; [/shell]</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2016/11/28/centos-e4-b8-8b-e5-ae-89-e8-a3-85php7-e7-9a-84mongodb-e6-a8-a1-e5-9d-97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/28/centos-e4-b8-8b-e5-ae-89-e8-a3-85php7-e7-9a-84mongodb-e6-a8-a1-e5-9d-97/" itemprop="url">centos下安装php7的mongodb模块</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-28T22:03:56+08:00">
                2016-11-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>php一共有两个模块分别为mongo和mongodb，其中php7只支持mongodb模块 1.安装依赖包 [shell] yum install autoconf [/shell] 2.下载mongodb模块 [shell] wget -O mongodb-1.1.9.tgz <a href="https://pecl.php.net/get/mongodb" target="_blank" rel="noopener">https://pecl.php.net/get/mongodb</a> tar -zxvf mongodb-1.1.9.tgz cd mongodb-1.1.9 [/shell] 3.编译与安装 [shell] /usr/local/php/bin/phpize ./configure –with-php-config=/usr/local/php/bin/php-config make make install [/shell] 安装完成</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2016/11/28/centos-e4-b8-8b-nginx-e5-ae-89-e8-a3-85-e4-b8-8e-e9-85-8d-e7-bd-ae/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/28/centos-e4-b8-8b-nginx-e5-ae-89-e8-a3-85-e4-b8-8e-e9-85-8d-e7-bd-ae/" itemprop="url">Centos下 Nginx安装与配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-28T21:50:48+08:00">
                2016-11-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Nginx/" itemprop="url" rel="index">
                    <span itemprop="name">Nginx</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先由于nginx的一些模块依赖一些lib库，所以在安装nginx之前，必须先安装这些lib库，这些依赖库主要有g++、gcc、openssl-devel、pcre-devel和zlib-devel 所以执行如下命令安装 1.安装依赖包 [shell] yum install gcc gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel ncurses-devel perl [/shell] 2.下载最新版的nginx [shell] wget <a href="http://nginx.org/download/nginx-1.10.2.tar.gz" target="_blank" rel="noopener">http://nginx.org/download/nginx-1.10.2.tar.gz</a> tar -zxvf nginx-1.10.2.tar.gz [/shell] 3.编译与安装 [shell] ./configure –prefix=/usr/local/nginx make make install [/shell] 4.查看nginx的安装目录 [shell] whereis nginx [/shell] 5.启动 [shell] /usr/local/nginx [/shell] 安装完成</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2016/11/28/centos-e4-b8-8b-e5-ae-89-e8-a3-85php7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/28/centos-e4-b8-8b-e5-ae-89-e8-a3-85php7/" itemprop="url">centos下安装php7</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-28T21:45:54+08:00">
                2016-11-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>编译安装 php-fpm 1.下载php7 [shell] wget -O php7.tar.gz <a href="http://cn2.php.net/get/php-7.0.13.tar.gz/from/this/mirror" target="_blank" rel="noopener">http://cn2.php.net/get/php-7.0.13.tar.gz/from/this/mirror</a> tar -zxvf php7.tar.gz cd php-7.0.13 [/shell] 2.安装依赖包 [shell] yum install gcc gcc-c++ libxml2 libxml2-devel openssl openssl-devel bzip2 bzip2-devel libcurl libcurl-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gmp gmp-devel libmcrypt libmcrypt-devel readline readline-devel libxslt libxslt-devel [/shell] 3.编译配置（如果出现错误，基本都是上一步的依赖文件没有安装所致） 可以从这一步起参考PHP官方安装说明：<a href="http://php.net/manual/zh/install.unix.nginx.php" target="_blank" rel="noopener">http://php.net/manual/zh/install.unix.nginx.php</a> [shell] ./configure \ –prefix=/usr/local/php \ –with-config-file-path=/usr/local/php/etc \ –enable-fpm \ –enable-inline-optimization \ –disable-debug \ –disable-rpath \ –enable-shared \ –enable-soap \ –with-libxml-dir \ –with-xmlrpc \ –with-openssl \ –with-mhash \ –with-pcre-regex \ –with-sqlite3 \ –with-zlib \ –enable-bcmath \ –with-iconv \ –with-bz2 \ –enable-calendar \ –with-curl \ –with-cdb \ –enable-dom \ –enable-exif \ –enable-fileinfo \ –enable-filter \ –with-pcre-dir \ –enable-ftp \ –with-gd \ –with-openssl-dir \ –with-jpeg-dir \ –with-png-dir \ –with-zlib-dir \ –with-freetype-dir \ –with-gettext \ –with-gmp \ –with-mhash \ –enable-json \ –enable-mbstring \ –enable-mbregex \ –enable-mbregex-backtrack \ –with-libmbfl \ –with-onig \ –enable-pdo \ –with-mysqli=mysqlnd \ –with-pdo-mysql=mysqlnd \ –with-zlib-dir \ –with-pdo-sqlite \ –with-readline \ –enable-session \ –enable-shmop \ –enable-simplexml \ –enable-sockets \ –enable-sysvmsg \ –enable-sysvsem \ –enable-sysvshm \ –enable-wddx \ –with-libxml-dir \ –with-xsl \ –enable-zip \ –enable-mysqlnd-compression-support \ –with-pear \ –enable-opcache [/shell] 4.正式安装 [shell] make &amp;&amp; make install [/shell] 5.配置环境变量 [shell] cat &gt;&gt;/etc/profile&lt;&lt;EOF export PATH=\$PATH:/usr/local/php/bin EOF [/shell] 6.导入环境变量 [shell] source /etc/profile [/shell] 7.配置php-fpm [shell] cp php.ini-production /usr/local/php/etc/php.ini cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf cp /usr/local/php/etc/php-fpm.d/<a href="http://www.conf.default" target="_blank" rel="noopener">www.conf.default</a> /usr/local/php/etc/php-fpm.d/<a href="http://www.conf" target="_blank" rel="noopener">www.conf</a> cp sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm chmod +x /etc/init.d/php-fpm [/shell] 8.启动php-fpm [shell] /etc/init.d/php-fpm start [/shell] 安装完成 ps: 有2种方式可以找到之前的编译参数： 1.在源码 /lamp/php-5.4.11/中找到 config.nice，这个就是之前的编译参数 2.去掉enable-gd-jis-conv编译参数，引起imagettftext()中文乱码问题 3.在php.ini配置文件中找到Configure相关的配置 : [shell] /usr/local/php/bin/php -i |grep ‘Configure’ [/shell]</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2016/11/28/centos-e4-b8-8bphp7-e6-94-af-e6-8c-81memcached/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/28/centos-e4-b8-8bphp7-e6-94-af-e6-8c-81memcached/" itemprop="url">centos下php7支持memcached</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-28T21:04:24+08:00">
                2016-11-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>php7出了！性能提升一倍！<br>不过兼容性好像还不太好，我在php7下安装memcached扩展遇到了问题，记录一下。</p>
<p>1. 首先需要安装libmemcached支持：<br>官网在此，找到最新版的下载链接 <a href="https://launchpad.net/libmemcached，使用wget下载tar.gz压缩包，解压缩，进入目录，依次执行（prefix后为安装目录）：" target="_blank" rel="noopener">https://launchpad.net/libmemcached，使用wget下载tar.gz压缩包，解压缩，进入目录，依次执行（prefix后为安装目录）：</a></p>
<p>[shell] ./configure –prefix=/usr/local/libmemcached make make install [/shell]</p>
<p>2. 安装memcached<br>php使用memcache的扩展有两个，一个memcache，一个memcached，前者比较老，推荐使用第二个，我们这里以第二个为例：<br>在github上找到适用于php7的分支（<a href="https://github.com/php-memcached-dev/php-memcached/tree/php7），同样使用wget下载zip压缩包，解压缩，进入目录，依次执行下列命令（其中php-config和libmemcached目录根据具体情况设定，可以使用whereis或者find来查找）：" target="_blank" rel="noopener">https://github.com/php-memcached-dev/php-memcached/tree/php7），同样使用wget下载zip压缩包，解压缩，进入目录，依次执行下列命令（其中php-config和libmemcached目录根据具体情况设定，可以使用whereis或者find来查找）：</a></p>
<p>[shell] /usr/local/php/bin/phpize ./configure –with-php-config=/usr/local/php/bin/php-config –enable-memcached-sasl make make install [/shell]</p>
<p>安装成功</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2015/09/18/aac-e7-bc-96-e7-a0-81-e5-9f-ba-e6-9c-ac-e8-af-b4-e6-98-8e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/09/18/aac-e7-bc-96-e7-a0-81-e5-9f-ba-e6-9c-ac-e8-af-b4-e6-98-8e/" itemprop="url">AAC编码基本说明</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-09-18T18:02:05+08:00">
                2015-09-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/FFmpeg/" itemprop="url" rel="index">
                    <span itemprop="name">FFmpeg</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Advanced Audio Coding (AAC) 是 MP3 的后继格式，它被定义於 MPEG-4 part 3 (ISO/IEC 14496-3)。它通常使用在 MP4 容器内；对于音乐习惯上使用 .m4a 副档名。第二常见使用是在 MKV (Matroska) 档内，因为它比 MP4 支援更多以文字为基础的软字幕 (例如 ass, ssa…)。本文中的范例将使用 MP4 与 M4A 副档名。 ​ FFmpeg 可以支援 4 个 AAC-LC 编码器 (aac, libfaac, libfdk_aac, libvo_aacenc) 与两个 AAC-HE 编码器 (libaacplus, libfdk_aac)。libaacplus, libfaac, libfdk_aac 的授权不与 GPL 相容，所以当 GPU 授权源代码也包含在内时 GPU 不允许包含源代码授权依据这些授权的二进位档的发布。因此这些编码器被指定为 “non-free”，且你不能下载内建它们的 ffmpeg。这可以透过自行编译 ffmpeg 来解决。 对于 AAC-LC 品质而言，其答案可能是: libfdk_aac &gt; libfaac &gt; Native FFmpeg AAC encoder (aac) &gt; libvo_aacenc <a href="https://trac.ffmpeg.org/wiki/Encode/HighQualityAudio#AudioencodersFFmpegcanuse" target="_blank" rel="noopener">https://trac.ffmpeg.org/wiki/Encode/HighQualityAudio#AudioencodersFFmpegcanuse</a> <strong>libfdk_aac</strong> The Fraunhofer FDK AAC 编解码程式库。这是目前 ffmpeg 所能提供的最高品质 AAC 编码器。需要 ffmpeg 组态 (configuration) 中含有 –enable-libfdk-aac (如果也使用 –enable-gpl 则还需要 –enable-nonfree)。 详细资料: Fraunhofer FDK AAC - Hydrogenaud Constant Bit Rate (CBR, 常数位元速率) 模式 指定一个目标位元速率。它可以让你精準控制输出档案大小 (= 位元率 * 时间长度)，且它与 HE-AAC profile 相容。由经验得知，双声道推荐 位元率 &gt;= 128kbps，6 声道则推荐位元率 &gt;= 384kbps (由 双声道位元率 * 声道数 / 2)。使用 -b 选项来控制输出位元速率。 范例: 转换一个音讯档为 AAC 并以 M4A (MP4) 容器来封装: [shell] ffmpeg -i input.wav -c:a libfdk_aac -b:a 128k output.m4a [/shell] 转换一个影片的 5.1 生到音讯为 AAC，并复制其视讯串流: [shell] ffmpeg -i input.mp4 -c:v copy -c:a libfdk_aac -b:a 384k output.mp4 [/shell] Variable Bit Rate (VBR, 可变位元速率) 模式 指定一个目标品质，而不是特定的位元速率。设定值范围为 1-5，较高的值会得到较高的位元率与品质。使用 -vbr 选项来设定 VBR 等级。 范例: 转换一个音讯档为 AAC 并以 M4A (MP4) 容器来封装: [shell] ffmpeg -i input.wav -c:a libfdk_aac -vbr 3 output.m4a [/shell] 转换一个影片的 5.1 生到音讯为 AAC，并复制其视讯串流: [shell] ffmpeg -i input.mp4 -c:v copy -c:a libfdk_aac -vbr 3 output.mp4 [/shell] <strong>High-Efficiency AAC</strong> 简称 AAC-HE 又名为 aacPlus，这是一对专门针对低位元速率的 AAC profiles (version 1 与 version 2)，AAC-HE v1。对于双声道而言 (如下图所示)，AAC-HE v1 适用于 96kbps 以下，而 AAC-HE v2 适用于 48kbps 以下。但大多数播放设备不支援播放任何版本的 AAC-HE 而只能播放 AAC-LC。 <a href="http://www.phpkoo.com/wp-content/uploads/2015/09/mobile01-0aaa64dadec533c578cc87c6c1054e16.png" target="_blank" rel="noopener"><img src="http://www.phpkoo.com/wp-content/uploads/2015/09/mobile01-0aaa64dadec533c578cc87c6c1054e16.png" alt="mobile01-0aaa64dadec533c578cc87c6c1054e16"></a> x 轴为音质; y 轴为位元率 注意: AAC-HE v2 只能处理双声道。如果需要降混 (down-mix) 至 单声道，则使用 AAC-HE v1。 如果需要指定 Profile 则使用 -profile 选项。 Profiles: aac_low MPEG-4 AAC LC (default) aac_he MPEG-4 HE-AAC (SBR) aac_he_v2 MPEG-4 HE-AAC v2 (SBR+PS) aac_ld MPEG-4 AAC LD aac_eld MPEG-4 AAC ELD 例如: [shell] ffmpeg -i input.wav -ac 2 -c:a libfdk_aac -profile:a aac_he -vbr 3 output.m4a [/shell] <strong>Native FFmpeg AAC encoder</strong> 原生 (Native) FFmpeg AAC 编码器是已包含在 ffmpeg 内，而且它不像本文中其它 AAC 编码器那样需要一个外部程式库。注意这将不会让你得到如同 libfdk_aac 一样的良好结果。这被认为是实验性的编码器，所以需要 “-strict experimental” 或 “-strict -2 is”。 <strong>指定位元率</strong> 使用 -b 选项来指定输出位元率为 240kbps: [shell] ffmpeg -i input.wav -strict experimental -c:a aac -b:a 240k output.m4a [/shell] <strong>指定品质</strong> 使用 -q 选项来指定输出品质等级为 6: [shell] ffmpeg -i input.wav -strict experimental -c:a aac -q:a 6 output.m4a [/shell] 设定值有效范围为 0.1-10。比较高的设定值会得到较高的输出品质与位元率大小。 此 VBR 是实验性的并且有可能得到比 CBR 更差的结果。 <strong>libvo_aacenc</strong> VisualOn AAC 编码程式库。需要 ffmpeg 组态 (configuration) 中含有 –enable-libvo-aacenc。它有非 non-free 的优点，但它是一个更差的编码器比起 libfdk_aac 甚至 原生的 FFmpeg AAC 编码器，根据 FFmpeg AACの音质评価。此编码器最多只支援 2 声道，并只有 CBR 模式，而且不支援 VBR 输出。 <strong>CBR 128Kbps：</strong> [shell] ffmpeg -i input.wav -ac 2 -c:a libvo_aacenc -b:a 128k output.m4a [/shell] <strong>附：</strong></p>
<p>HE-AAC, HE-AAC v2<br>品质    高品质<br>比特率    HE-AAC：32至48kbit/s 单声道<br>        HE-AAC v2：16至24kbit/s 单声道<br>        高品质音频<br>采样率    24至96kHz<br>声道    单声道、立体声、多声道（如5.1、7.1）<br>应用    DVB（数 字视频广播）、ISDB（综合业务数字广播）、ARIB、ATSC-M/H、DAB+（数字音频广播）、DRM+（数字版权管理）、DRM、DVB- H（手持式数字视频广播）、DMB（数字多媒体广播）、MediaFLO、3GPP、XM广播、移动电话、音频和视频下载服务</p>
<p>AAC-LC<br>品质    达到统计学标准的清晰度<br>比特率    最高每通道256kbit/s<br>采样率    8至96kHz<br>声道    单声道、立体声、多声道（如5.1、7.1）<br>应用    苹果 iPod、 iTunes、QuickTime、 日本ISDB（综合业务数字广播）、 AV 接收器、汽车收音机、移动音乐播放器、移动电话</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2015/09/17/e5-af-b9ffmpeg-e7-9a-84x264-e9-a2-84-e7-bd-ae-e6-af-94-e8-be-83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/09/17/e5-af-b9ffmpeg-e7-9a-84x264-e9-a2-84-e7-bd-ae-e6-af-94-e8-be-83/" itemprop="url">对FFmpeg的X264预置比较</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-09-17T08:38:06+08:00">
                2015-09-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/FFmpeg/" itemprop="url" rel="index">
                    <span itemprop="name">FFmpeg</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>对FFmpeg的X264质量预设测量性能，要知道哪个选项是最适合我的目的将MPEG2 TS到苹果电视的MP4。因素需要考虑是： 1）转换的速度 2）文件的大小 3）视频的质量 最重要的因素就是转换的速度，如果时间转换比录制短。同时对于文件的大小也是越小越好。 测试方法 [shell] for i in ultrafast superfast veryfast faster fast medium slow slower veryslow placebo do ffmpeg -i sample.ts -vcodec libx264 \ -preset $i -profile:v baseline -level 3.0 -s 1280x720 \ -acodec libfaac -ab 160k \ -y $i.mp4 done [/shell] sample.ts是一个60秒的全高清（1440×1080），MPEG2视频 测试结果</p>
<p>preset used for conversion</p>
<p>Conversion speed (fps - frames per second) . The bigger the faster.</p>
<p>Size of the output video file (in bytes)</p>
<p>ultrafast</p>
<p>29.6</p>
<p>81,046,858</p>
<p>superfast</p>
<p>27.9</p>
<p>58,180,478</p>
<p>veryfast</p>
<p>20.6</p>
<p>43,968,615</p>
<p>faster</p>
<p>13.0</p>
<p>32,981,783</p>
<p>fast</p>
<p>9.1</p>
<p>35,461,071</p>
<p>medium</p>
<p>8.0</p>
<p>35,119,322</p>
<p>slow</p>
<p>5.6</p>
<p>33,367,247</p>
<p>slower</p>
<p>2.1</p>
<p>33,698,347</p>
<p>veryslow</p>
<p>1.3</p>
<p>29,697,663</p>
<p>placebo</p>
<p>0.6</p>
<p>29,395,288</p>
<p><a href="http://www.phpkoo.com/wp-content/uploads/2015/09/ffmpeg-presets-comparison-results.png" target="_blank" rel="noopener"><img src="http://www.phpkoo.com/wp-content/uploads/2015/09/ffmpeg-presets-comparison-results.png" alt="ffmpeg-presets-comparison-results"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2015/09/16/centos-e4-b8-8b-e5-ae-89-e8-a3-85lua-e7-8e-af-e5-a2-83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/09/16/centos-e4-b8-8b-e5-ae-89-e8-a3-85lua-e7-8e-af-e5-a2-83/" itemprop="url">centos下安装lua环境</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-09-16T22:51:05+08:00">
                2015-09-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LUA/" itemprop="url" rel="index">
                    <span itemprop="name">LUA</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>到LUA官网下载安装包 [shell] $ wget <a href="http://www.lua.org/ftp/lua-5.1.5.tar.gz" target="_blank" rel="noopener">http://www.lua.org/ftp/lua-5.1.5.tar.gz</a> $ tar zxvf lua-5.1.5.tar.gz $ cd lua-5.1.5/ $ yum install -y readline-devel ncurses-devel $ make linux [/shell] 如下提示： cd src &amp;&amp; make linux make[1]: Entering directory <code>/usr/local/src/lua-5.1.5/src&#39; make all MYCFLAGS=-DLUA\_USE\_LINUX MYLIBS=&quot;-Wl,-E -ldl -lreadline -lhistory -lncurses&quot; make\[2\]: Entering directory</code>/usr/local/src/lua-5.1.5/src’ make[2]: Nothing to be done for `all’. make[2]: Leaving directory `/usr/local/src/lua-5.1.5/src’ make[1]: Leaving directory `/usr/local/src/lua-5.1.5/src’ [shell] $ make install [/shell] cd src &amp;&amp; mkdir -p /usr/local/bin /usr/local/include /usr/local/lib /usr/local/man/man1 /usr/local/share/lua/5.1 /usr/local/lib/lua/5.1 cd src &amp;&amp; install -p -m 0755 lua luac /usr/local/bin cd src &amp;&amp; install -p -m 0644 lua.h luaconf.h lualib.h lauxlib.h ../etc/lua.hpp /usr/local/include cd src &amp;&amp; install -p -m 0644 liblua.a /usr/local/lib cd doc &amp;&amp; install -p -m 0644 lua.1 luac.1 /usr/local/man/man1 [shell] $ whereis lua lua: /usr/bin/lua /usr/lib64/lua /usr/local/bin/lua /usr/local/lib/lua /usr/share/lua /usr/share/man/man1/lua.1.gz $ /usr/local/bin/lua Lua 5.1.5 Copyright (C) 1994-2012 Lua.org, PUC-Rio [/shell] 安装完成。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2015/09/09/lua-e5-ae-89-e8-a3-85mongorover-e6-a8-a1-e5-9d-97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/09/09/lua-e5-ae-89-e8-a3-85mongorover-e6-a8-a1-e5-9d-97/" itemprop="url">lua安装mongorover模块</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-09-09T11:12:07+08:00">
                2015-09-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LUA/" itemprop="url" rel="index">
                    <span itemprop="name">LUA</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>mongorover模块是mongodb官方提供的lua语言的驱动，官网API文档：<a href="http://api.mongodb.org/lua/0.1/index.html" target="_blank" rel="noopener">http://api.mongodb.org/lua/0.1/index.html</a> 通过luarocks方式安装lua模块 一、安装luarocks工具 [shell] $ wget <a href="http://luarocks.org/releases/luarocks-2.2.2.tar.gz" target="_blank" rel="noopener">http://luarocks.org/releases/luarocks-2.2.2.tar.gz</a> $ tar zxpf luarocks-2.2.2.tar.gz $ cd luarocks-2.2.2 $ ./configure $ make bootstrap [/shell] 二、安装mongorover模块 [shell] $ luarocks install mongorover [/shell] 安装时，报以下错误信息 Error: Could not find expected file libbson-1.0/bson.h, or libbson-1.0/bson.h for LIBMONGOC – you may have to install LIBMONGOC in your system and/or pass LIBMONGOC_DIR or LIBMONGOC_INCDIR to the luarocks command. Example: luarocks install mongorover LIBMONGOC_DIR=/usr/local 三、安装bson库 官方安装参照：<a href="http://api.mongodb.org/libbson/current/installing.html" target="_blank" rel="noopener">http://api.mongodb.org/libbson/current/installing.html</a> [shell] $ wget <a href="https://github.com/mongodb/libbson/releases/download/1.1.10/libbson-1.1.10.tar.gz" target="_blank" rel="noopener">https://github.com/mongodb/libbson/releases/download/1.1.10/libbson-1.1.10.tar.gz</a> $ tar -xzf libbson-1.1.10.tar.gz $ cd libbson-1.1.10/ $ ./configure $ make $ make install $ ln -s /usr/include/libbson-1.0/ /usr/local/libbson-1.0 [/shell] 再执行,安装mongorover模块,又报以下错误 Error: Could not find expected file libmongoc-1.0/mongoc.h, or libmongoc-1.0/mongoc.h for LIBMONGOC – you may have to install LIBMONGOC in your system and/or pass LIBMONGOC_DIR or LIBMONGOC_INCDIR to the luarocks command. Example: luarocks install mongorover LIBMONGOC_DIR=/usr/local 四、安装libmongoc库 官方安装参照：<a href="http://api.mongodb.org/c/current/installing.html" target="_blank" rel="noopener">http://api.mongodb.org/c/current/installing.html</a> [shell] $ wget <a href="https://github.com/mongodb/mongo-c-driver/releases/download/1.1.10/mongo-c-driver-1.1.10.tar.gz" target="_blank" rel="noopener">https://github.com/mongodb/mongo-c-driver/releases/download/1.1.10/mongo-c-driver-1.1.10.tar.gz</a> $ tar -xzf mongo-c-driver-1.1.10.tar.gz $ cd mongo-c-driver-1.1.10/ $ ./configure $ make $ make install $ ln -s /usr/include/libmongoc-1.0/ /usr/local/libmongoc-1.0 [/shell] 再执行,安装mongorover模块，安装成功</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://phpkoo.com/2015/08/28/centos-e4-b8-8bzeromq-e5-ba-93-e5-ae-89-e8-a3-85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shideqin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿德的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/08/28/centos-e4-b8-8bzeromq-e5-ba-93-e5-ae-89-e8-a3-85/" itemprop="url">centos下zeromq库安装</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-28T16:14:31+08:00">
                2015-08-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>zeromq是个类似于Socket的一系列接口，他跟Socket的区别是：普通的socket是端到端的（1:1的关系），而ZMQ却是可以N：M 的关系，人们对BSD套接字的了解较多的是点对点的连接，点对点连接需要显式地建立连接、销毁连接、选择协议（TCP/UDP）和处理错误等，而ZMQ屏蔽了这些细节，让你的网络编程更为简单。ZMQ用于node与node间的通信，node可以是主机或者是进程。 <strong>安装</strong> ZeroMQ：<a href="http://download.zeromq.org/zeromq-4.1.3.tar.gz" target="_blank" rel="noopener">http://download.zeromq.org/zeromq-4.1.3.tar.gz</a> [shell] $ tar -xvzf zeromq-4.1.3.tar.gz $ cd zeromq-4.1.3 $ ./configure $ make $ make install [/shell] ./configure 提示 checking for sodium… no configure: error: Package requirements (libsodium) were not met ibsodium 是一个流行、易于使用的软件库。主要用于加密、解密、签名和生成密码哈希等等。这是一个可移植的、跨编译器支持、可安装的，基于 <a href="http://nacl.cr.yp.to/" target="_blank" rel="noopener">NaCl</a> 开发，提供一个兼容 API。它的目标是为所有构建更高级别的加密工具提供所需要的核心操作。 <strong>安装</strong> libsodium：<a href="https://github.com/jedisct1/libsodium/releases/download/1.0.3/libsodium-1.0.3.tar.gz" target="_blank" rel="noopener">https://github.com/jedisct1/libsodium/releases/download/1.0.3/libsodium-1.0.3.tar.gz</a> [shell] $ tar -xvzf libsodium-1.0.3.tar.gz $ cd libsodium-1.0.3 $ ./configure $ make $ make install [/shell] <strong>设置环境变量</strong> [shell] $ export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig [/shell] 最后ldconfig一下，更新一下动态链接库。 [shell] $ ldconfig [/shell] 再次安装ZeroMQ,安装成功。 同时需要将 [shell] $ yum remove zeromq $ yum remove zeromq-devel [/shell] 安装成功后，可安装nodejs或python等的zmq模块来验证一下刚安装的版本。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/6/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">shideqin</p>
              <p class="site-description motion-element" itemprop="description">关注小众语言，记录、分享技术点滴！</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">123</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">192</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shideqin</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
